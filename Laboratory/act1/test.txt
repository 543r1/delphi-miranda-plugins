function MakeEditField(Control:HWND):HWND;


return = button handle. need to save it to use later.
then
  WM_COMMAND
    BN_CLICKED: begin
      if lParam=our_handle then
        ExpandEditField(our_handle OR userdata);
    end;

procedure ExpandEditField;
begin
  get text from editfield
    DialogBoxParamW{CreateDialogParamW}(hInstance,PWideChar(IDD_MAIN),0,@EditWndProc,text);
  put text from edit field
end;
--------------
variant 2 = all action in button

oldActTableProc:=pointer(
SetWindowLongPtrW(wnd,GWL_WNDPROC,long_ptr(@NewActTableProc))
);
and there (at the end)
DefWindowProc(Dialog,hMessage,wParam,lParam);