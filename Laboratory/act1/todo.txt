clone - macro list, copies of action lists
macro list view - points to macro record(index?)
action listview points to action class
save:
  remove macrolist with action lists, in cycle check and free marked objects,replace by new
cancel
  same deletion but for editing lists
(clear action list)
  scan all actions. if marked as new, destroy
Delete macro:
  remove from list, remove from array, clear it's actions list
Add macro:
  do nothing unitl save 1st action, then create action list
Delete action:
  if not marked, mark as old, remove from list
  if marked as new, destroy, remove from list
Add action:
  create, mark as new (do nothing except list adding?)
  BUT real creation is just at saving
Move action:
  do nothing, it for list build/final saving only
Change action:
  if not marked, mark as old, create, mark as new
  if marked as new, destroy, create, mark as new
  if nil (new), create, mark as new

Флаги для экшенов:
0 - старый, не затронуто
1 - старый, надо обновлять (менялся)
2 - новый

привести в соответствие ACF_* и ACCF_*

Edit dialog:
0) KEEP OLD ACTION TYPE: if moving to next action, check. if was JUST type scroll,
   but keep original, no change
1)duplicate action list if it was changed (not marks only)
2)
macro: Add, Delete, Rename, Move
action: single=change(type,value); mark, rename; list=Add, Delete, Move

getlist: with volatile or not?

Актуальные списки макросов и экшенов в диалогах через парент и ИД списков
изменения - слать по всем диалогам сообщение "список менялся" и код списка.
перехват изменений списка контактов во время диалогов, чтоб PostMessage на изменение
при выполнении: возврат значения экшена: -1 - прервать, 0 - всё ок, остальные = номер
экшена в списке+1

+messagebox
+program
+chain
+contact
service
database
text?
condition?


chain:
ACF_BYNAME - используется лишь для импорта
FillChainList вызывается каждый раз при изменении списка
(ME_ACT_CHANGED,MS_ACT_GETLIST,MS_ACT_FREELIST)
  переименование
  добавление
  удаление
  релоад
  (импорт)

icons:
*icon resource handle   =icon
*icon icolib name       =prefix+icon?
+icon icolib description=name
prefix = 'action_type_'
used in icolib registration and combobox fill

dialog:
changing action - reset dialogs

new action:
show first type dialog
initialize dialogs by default

FillActTypeList
Add dialog icons registration?
Add to list directly?
Register icons at modules registration? (RegisterActTypes)
----------------------
AddAction:
default dialog fields
EditAction:
Filled type dialog
default dialog fields
SaveAction:
Delete old object
Create type object
fill common fields (BaseAction, ActionList)
fill type fields from dialog
--------------
CheckActList - Up/Dn buttons
CheckActionList - other action buttons, acttype list
------
action array